execute at @e[type=item,nbt={Item:{id:"minecraft:enchanting_table",Count:1b},OnGround:1b}] if block ~ ~-1 ~ minecraft:dropper[facing=up] align xz run summon minecraft:armor_stand ~0.5 ~-1 ~0.5 {NoGravity:1b,Invisible:1b,Tags:["advancedcrafter","ac","Machine"],ArmorItems:[{},{},{},{id:"minecraft:diamond_hoe",Count:1b,tag:{CustomModelData:2}}]}
execute at @e[type=item,nbt={Item:{id:"minecraft:enchanting_table",Count:1b},OnGround:1b}] if block ~ ~-1 ~ minecraft:dropper[facing=up] run kill @e[type=item,nbt={Item:{id:"minecraft:enchanting_table",Count:1b}},limit=1]
execute at @e[tag=advancedcrafter,tag=!crafter] run setblock ~ ~ ~ minecraft:dropper[facing=down]{CustomName:"{\"text\":\"Advanced Crafter\",\"color\":\"blue\"}"}
tag @e[tag=ac] add crafter
execute at @e[tag=ac] if block ~ ~ ~ air run summon item ~ ~ ~ {Item:{id:"minecraft:enchanting_table",Count:1b}}
execute at @e[tag=ac] if block ~ ~ ~ air run kill @e[type=item,nbt={Item:{id:"minecraft:dropper",Count:1b,tag:{display:{Name:'{"color":"blue","text":"Advanced Crafter"}'}}}},distance=..1,limit=1]
execute at @e[tag=ac] if block ~ ~ ~ air run summon item ~ ~ ~ {Item:{id:"minecraft:dropper",Count:1b}}
execute at @e[tag=ac] if block ~ ~ ~ air run kill @e[tag=ac,limit=1,distance=..1]
data merge entity @e[tag=ac,tag=!converted,limit=1] {Invisible:1b,Tags:["converted","ac","advancedcrafter","Machine"]}

execute at @e[tag=ac] if block ~ ~ ~ minecraft:dropper{Items:[{Slot:1b,id:"minecraft:ender_pearl",Count:1b},{Slot:3b,id:"minecraft:obsidian",Count:1b},{Slot:4b,id:"minecraft:obsidian",Count:1b},{Slot:5b,id:"minecraft:obsidian",Count:1b},{Slot:7b,id:"minecraft:hopper",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:bat_spawn_egg",Count:1b,tag:{display:{Name:"{\"text\":\"Ender Hopper\",\"color\":\"green\",\"bold\":true,\"italic\":false}"},CustomModelData:4,EntityTag:{Silent:1b,NoAI:1b,Tags:["endhoppS"],ActiveEffects:[{Id:14b,Amplifier:255b,Duration:1000000,ShowParticles:0b}]}}}]}
execute at @e[tag=ac] if block ~ ~ ~ minecraft:dropper{Items:[{Slot: 0b, id: "minecraft:iron_ingot", Count: 1b}, {Slot: 1b, id: "minecraft:gold_ingot", Count: 1b}, {Slot: 2b, id: "minecraft:iron_ingot", Count: 1b}, {Slot: 3b, id: "minecraft:gold_ingot", Count: 1b}, {Slot: 4b, id: "minecraft:quartz", Count: 1b, tag: {display:{Name:"{\"text\":\"Quartz Crystal\",\"color\":\"aqua\",\"italic\":false}"},CustomModelData:7}}, {Slot: 5b, id: "minecraft:gold_ingot", Count: 1b}, {Slot: 6b, id: "minecraft:iron_ingot", Count: 1b}, {Slot: 7b, id: "minecraft:gold_ingot", Count: 1b}, {Slot: 8b, id: "minecraft:iron_ingot", Count: 1b}]} run data merge block ~ ~ ~ {Items:[{Slot: 4b, id: "minecraft:diamond_hoe", Count: 1b, tag: {display:{Name:"{\"text\":\"Machine Frame\",\"color\":\"aqua\",\"italic\":false}"},HideFlags:6,Unbreakable:1b,CustomModelData:6}}]}
execute at @e[tag=ac] if block ~ ~ ~ minecraft:dropper{Items:[{Slot: 0b, id: "minecraft:iron_ingot", Count: 1b}, {Slot: 1b, id: "minecraft:diamond_pickaxe", Count: 1b}, {Slot: 2b, id: "minecraft:iron_ingot", Count: 1b}, {Slot: 3b, id: "minecraft:gold_ingot", Count: 1b}, {Slot: 4b, id: "minecraft:diamond_hoe", Count: 1b, tag: {display:{Name:"{\"text\":\"Machine Frame\",\"color\":\"aqua\",\"italic\":false}"},HideFlags:6,Unbreakable:1b,CustomModelData:6}}, {Slot: 5b, id: "minecraft:gold_ingot", Count: 1b}, {Slot: 6b, id: "minecraft:iron_ingot", Count: 1b}, {Slot: 7b, id: "minecraft:gold_ingot", Count: 1b}, {Slot: 8b, id: "minecraft:iron_ingot", Count: 1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:bat_spawn_egg",Count:1b,tag:{display:{Name:"{\"text\":\"Block Breaker\",\"color\":\"green\",\"bold\":true,\"italic\":false}"},CustomModelData:3,EntityTag:{Silent:1b,NoAI:1b,Tags:["blockb"],ActiveEffects:[{Id:14b,Amplifier:255b,Duration:1000000,ShowParticles:0b}]}}}]}
execute at @e[tag=ac] if block ~ ~ ~ minecraft:dropper{Items:[{Slot: 0b, id: "minecraft:iron_ingot", Count: 1b}, {Slot: 1b, id: "minecraft:diamond_pickaxe", Count: 1b}, {Slot: 2b, id: "minecraft:iron_ingot", Count: 1b}, {Slot: 3b, id: "minecraft:diamond", Count: 1b}, {Slot: 4b, id: "minecraft:diamond_hoe", Count: 1b, tag: {display:{Name:"{\"text\":\"Machine Frame\",\"color\":\"aqua\",\"italic\":false}"},HideFlags:6,Unbreakable:1b,CustomModelData:6}}, {Slot: 5b, id: "minecraft:diamond", Count: 1b}, {Slot: 6b, id: "minecraft:iron_ingot", Count: 1b}, {Slot: 7b, id: "minecraft:gold_ingot", Count: 1b}, {Slot: 8b, id: "minecraft:iron_ingot", Count: 1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:bat_spawn_egg",Count:1b,tag:{display:{Name:"{\"text\":\"Quarry\",\"color\":\"green\",\"bold\":true,\"italic\":false}"},CustomModelData:1,EntityTag:{Silent:1b,NoAI:1b,Tags:["QuarryS"],ActiveEffects:[{Id:14b,Amplifier:255b,Duration:1000000,ShowParticles:0b}]}}}]} 
execute at @e[tag=ac] if block ~ ~ ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:gray_concrete",Count:1b},{Slot:1b,id:"minecraft:glass",Count:1b},{Slot:2b,id:"minecraft:gray_concrete",Count:1b},{Slot:3b,id:"minecraft:gray_concrete",Count:1b},{Slot:4b,id:"minecraft:fire_charge",Count:1b},{Slot:5b,id:"minecraft:gray_concrete",Count:1b},{Slot:6b,id:"minecraft:iron_block",Count:1b},{Slot:7b,id:"minecraft:diamond_hoe",Count:1b,tag:{display:{Name:"{\"text\":\"Machine Frame\",\"color\":\"aqua\",\"italic\":false}"},HideFlags:6,Unbreakable:1b,CustomModelData:6}},{Slot:8b,id:"minecraft:iron_block",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:bat_spawn_egg",Count:1b,tag:{display:{Name:"{\"text\":\"Smelter\",\"color\":\"green\",\"bold\":true,\"italic\":false}"},CustomModelData:7,EntityTag:{Silent:1b,NoAI:1b,Tags:["smelterS"],ActiveEffects:[{Id:14b,Amplifier:255b,Duration:1000000,ShowParticles:0b}]}}}]}
execute at @e[tag=ac] if block ~ ~ ~ minecraft:dropper{Items:[{Slot:0b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:1b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:2b,id:"minecraft:lapis_lazuli",Count:1b},{Slot:3b,id:"minecraft:iron_ingot",Count:1b},{Slot:4b,id:"minecraft:bucket",Count:1b},{Slot:5b,id:"minecraft:iron_ingot",Count:1b},{Slot:6b,id:"minecraft:iron_ingot",Count:1b},{Slot:7b,id:"minecraft:iron_ingot",Count:1b},{Slot:8b,id:"minecraft:iron_ingot",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:bat_spawn_egg",Count:1b,tag:{display:{Name:"{\"text\":\"Trash Can\",\"color\":\"green\",\"bold\":true,\"italic\":false}"},CustomModelData:5,EntityTag:{Silent:1b,NoAI:1b,Tags:["trashbinS"],ActiveEffects:[{Id:14b,Amplifier:255b,Duration:1000000,ShowParticles:0b}]}}}]}